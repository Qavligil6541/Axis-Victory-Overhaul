#Category only allowed for GER
GER_mefo_bills_category = {

	GER_mefo_bills_mission = {

		allowed = { always = no }

		icon = ger_mefo_bills

		available = {
			NOT = { has_government = democratic }
			GER_can_delay_mefo_payment = yes
			has_political_power > 0
		}

		#cost = GER_mefo_bill_counter?10

		selectable_mission = yes
		days_mission_timeout = 180
		is_good = no
		fire_only_once = yes

		cancel_trigger = {
			hidden_trigger = {
				OR = {
					NOT = { GER_has_mefo_bills = yes }
					has_idea = GER_mefo_bills_ended
				}
			}
		}

		days_remove = GER_extend_mefo_bills_days?0
		remove_effect = {
			GER_mefo_bills_level_up = yes
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 15 compare = less_than }
				}
				set_variable = { var = GER_mefo_bill_counter value = 10 }
			}
			add_to_variable = { var = GER_mefo_bill_counter value = 10 }

			hidden_effect = {
				activate_mission = GER_mefo_bills_mission
			}
		}

		complete_effect = {
			custom_effect_tooltip = GER_mefo_bills_mission_tt
			custom_effect_tooltip = GER_mefo_bills_effect_in_days
			effect_tooltip = {
				GER_mefo_bills_level_up = yes
			}
			hidden_effect = {
				set_variable = { GER_extend_mefo_bills_days = days_mission_timeout@GER_mefo_bills_mission }
			}
		}

		timeout_effect = {
			GER_remove_mefo_bills = yes
			#1
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 15 compare = less_than }
				}
				add_political_power = -20
				add_timed_idea = { idea = GER_mefo_bills_ended days = 60 }
			}
			#2
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 20 compare = equals }
				}
				add_political_power = -40
				add_timed_idea = { idea = GER_mefo_bills_ended days = 80 }
			}
			#3
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 30 compare = equals }
				}
				add_political_power = -60
				add_timed_idea = { idea = GER_mefo_bills_ended days = 100 }
			}
			#4
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 40 compare = equals }
				}
				add_political_power = -80
				add_timed_idea = { idea = GER_mefo_bills_ended days = 120 }
			}
			#5
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 50 compare = equals }
				}
				add_political_power = -100
				add_timed_idea = { idea = GER_mefo_bills_ended days = 140 }
			}
			#6
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 60 compare = equals }
				}
				add_political_power = -120
				add_timed_idea = { idea = GER_mefo_bills_ended days = 160 }
			}
			#7
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 70 compare = equals }
				}
				add_political_power = -140
				add_timed_idea = { idea = GER_mefo_bills_ended days = 180 }
			}
			#8
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 80 compare = equals }
				}
				add_political_power = -160
				add_timed_idea = { idea = GER_mefo_bills_ended days = 200 }
			}
			#9
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 90 compare = equals }
				}
				add_political_power = -180
				add_timed_idea = { idea = GER_mefo_bills_ended days = 220 }
			}
			#10
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 100 compare = equals }
				}
				add_political_power = -200
				add_timed_idea = { idea = GER_mefo_bills_ended days = 240 }
			}
			#11
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 110 compare = equals }
				}
				add_political_power = -220
				add_timed_idea = { idea = GER_mefo_bills_ended days = 260 }
			}
			#12
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 120 compare = equals }
				}
				add_political_power = -240
				add_timed_idea = { idea = GER_mefo_bills_ended days = 280 }
			}
			#13
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 130 compare = equals }
				}
				add_political_power = -260
				add_timed_idea = { idea = GER_mefo_bills_ended days = 300 }
			}
			#14
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 140 compare = equals }
				}
				add_political_power = -280
				add_timed_idea = { idea = GER_mefo_bills_ended days = 320 }
			}
			#15
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 150 compare = equals }
				}
				add_political_power = -300
				add_timed_idea = { idea = GER_mefo_bills_ended days = 340 }
			}
			#16
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 160 compare = equals }
				}
				add_political_power = -320
				add_timed_idea = { idea = GER_mefo_bills_ended days = 360 }
			}
			#17
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 170 compare = equals }
				}
				add_political_power = -340
				add_timed_idea = { idea = GER_mefo_bills_ended days = 380 }
			}
			#18
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 180 compare = equals }
				}
				add_political_power = -360
				add_timed_idea = { idea = GER_mefo_bills_ended days = 400 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 180 compare = greater_than }
				}
				add_political_power = -380
				add_timed_idea = { idea = GER_mefo_bills_ended days = 420 }
			}			
		}

		ai_will_do = {
			factor = 200
		}
	}
}

operations = {

	GER_barbarossa_mission = {

		icon = generic_operation

		allowed = {
			always = no
			#added through on_action
		}

		available = {
			219 = { is_controlled_by_ROOT_or_ally = yes }
			195 = { is_controlled_by_ROOT_or_ally = yes }
			202 = { is_controlled_by_ROOT_or_ally = yes }
			217 = { is_controlled_by_ROOT_or_ally = yes }
		}

		days_mission_timeout = 180
		fire_only_once = yes

		activation = {

		}

		is_good = no

		complete_effect = {
			add_war_support = 0.1
			custom_effect_tooltip = barbarossa_mission_tt
		}

		timeout_effect = {
			
		}

		ai_will_do = {
			factor = 1
		}
	}
}

GER_case_anton_category = {

	GER_case_anton = {

		icon = generic_operation

		available = {
			original_tag = GER
			has_war = yes
			has_government = fascism
			any_allied_country = {
				original_tag = FRA
				has_government = fascism
				is_subject_of = GER
				NOT = { has_country_flag = case_anton }
				custom_trigger_tooltip = {
					tooltip = GER_case_anton_tt2
					NOT = { controls_state = 462 }
					NOT = { controls_state = 461 }
					NOT = { controls_state = 513 }
					NOT = { controls_state = 462 }
					NOT = { controls_state = 459 }
					NOT = { controls_state = 460 }
					NOT = { controls_state = 458 }
					NOT = { controls_state = 665 }
				}
			}
			divisions_in_state = { state = 31 size < 1 }
			divisions_in_state = { state = 25 size < 1 }
			divisions_in_state = { state = 22 size < 1 }
			divisions_in_state = { state = 21 size < 1 }
			divisions_in_state = { state = 32 size < 1 }
			divisions_in_state = { state = 22 size < 1 }
			divisions_in_state = { state = 26 size < 1 }
			divisions_in_state = { state = 33 size < 1 }
			divisions_in_state = { state = 20 size < 1 }
			OR = {
				ITA = { owns_state = 735 }
				divisions_in_state = { state = 735 size < 1 }
			}
		}

		cost = 50
		fire_only_once = yes

		visible = {
			original_tag = GER
			has_government = fascism
			any_allied_country = {
				original_tag = FRA
				has_government = fascism
				is_subject_of = GER
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				ITA = { has_capitulated = no }
			}
		}
		complete_effect = {
			custom_effect_tooltip = GER_case_anton_tt
			hidden_effect = {
				random_other_country = {
					limit = {
						original_tag = FRA
						has_government = fascism
						is_subject_of = GER
					}
					set_country_flag = case_anton
					activate_mission = FRA_case_anton_mission
				}
			}
		}
	}
}

#Category only allowed for GER
GER_reichskommissariats = {
	GER_reichskommissariat_norwegen = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			controls_state = 110
			controls_state = 142
			controls_state = 143
			controls_state = 144
		}

		cost = 0

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			hidden_effect = {
                            RKW = {
                               add_state_core = 110
                               transfer_state = 110
                               transfer_state = 142
                               transfer_state = 143
                               transfer_state = 144
                            }
			    set_autonomy = { target = RKW autonomy_state = autonomy_reichskommissariat }
                        }
		}
	}

	GER_reichskommissariat_niederlande = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			controls_state = 7
			controls_state = 35
			controls_state = 36
			controls_state = 842
		}

		cost = 0

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			hidden_effect = {
                            RKN = {
                               add_state_core = 7
                               transfer_state = 7
                               transfer_state = 35
                               transfer_state = 36
                               transfer_state = 842
                            }
			    set_autonomy = { target = RKN autonomy_state = autonomy_reichskommissariat }
                        }
		}
	}

	GER_reichskommissariat_frankreich = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			controls_state = 17
			controls_state = 843
			controls_state = 18
			controls_state = 785
			controls_state = 16
			controls_state = 850
			controls_state = 15
			controls_state = 849
			controls_state = 24
			controls_state = 27
			controls_state = 30
			controls_state = 848
			controls_state = 14
			controls_state = 23
			controls_state = 19
		}

		cost = 0

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			hidden_effect = {
                            RKF = {
                               add_state_core = 16
                               transfer_state = 17
                               transfer_state = 843
                               transfer_state = 18
                               transfer_state = 785
                               transfer_state = 16
                               transfer_state = 850
                               transfer_state = 15
                               transfer_state = 849
                               transfer_state = 24
                               transfer_state = 27
                               transfer_state = 30
                               transfer_state = 848
                               transfer_state = 14
                               transfer_state = 23
                               transfer_state = 19
                            }
			    set_autonomy = { target = RKF autonomy_state = autonomy_reichskommissariat }
                        }
		}
	}

	GER_danemark = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			controls_state = 37
			controls_state = 99
			controls_state = 806
			controls_state = 845
		}

		cost = 0

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			hidden_effect = {
                            RKD = {
                               add_state_core = 37
                               transfer_state = 37
                               transfer_state = 99
                               transfer_state = 790
                               transfer_state = 806
                               transfer_state = 845
                            }
			    puppet = RKD
                        }
		}
	}

	GER_generalgovernment = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			controls_state = 10
			controls_state = 90
			controls_state = 92
			controls_state = 88
		}

		cost = 0

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			hidden_effect = {
                            GGP = {
                               add_state_core = 88
                               add_state_claim = 91
                               add_state_claim = 89
                               transfer_state = 88
                               transfer_state = 90
                               transfer_state = 92
                               transfer_state = 10
                            }
                            GER = {
                               transfer_state = 72
                               transfer_state = 85
                               transfer_state = 86
                               transfer_state = 87
                               transfer_state = 98
                               transfer_state = 762
                               transfer_state = 800
                            }
			    set_autonomy = { target = GGP autonomy_state = autonomy_reichskommissariat }
                        }
		}
	}

	GER_reichskommissariat_belgien_nordfrankreich = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			controls_state = 6
			controls_state = 29
			controls_state = 34
		}

		cost = 0

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			hidden_effect = {
                            RKB = {
                               add_state_core = 6
                               transfer_state = 6
                               transfer_state = 29
                               transfer_state = 34
                            }
                            GER = {
                               transfer_state = 794
                            }
			    set_autonomy = { target = RKB autonomy_state = autonomy_reichskommissariat }
                        }
		}
	}

	GER_reichskommissariat_ostland = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			controls_state = 189
			controls_state = 11
			controls_state = 784
			controls_state = 95
			controls_state = 96
			controls_state = 12
			controls_state = 190
			controls_state = 13
			controls_state = 191
			controls_state = 206
		}

		cost = 0

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			hidden_effect = {
                            RKO = {
                               add_state_core = 12
                               transfer_state = 189
                               transfer_state = 11
                               transfer_state = 784
                               transfer_state = 95
                               transfer_state = 96
                               transfer_state = 12
                               transfer_state = 190
                               transfer_state = 13
                               transfer_state = 191
                               transfer_state = 206
                            }
                            GER = {
                               transfer_state = 97
                               transfer_state = 864
                            }
			    set_autonomy = { target = RKO autonomy_state = autonomy_reichskommissariat }
                        }
		}
	}

	GER_reichskommissariat_donwolga = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			controls_state = 239
			controls_state = 401
			controls_state = 407
			controls_state = 217
			controls_state = 265
			controls_state = 245
			controls_state = 236
			controls_state = 237
		}

		cost = 0

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			hidden_effect = {
                            RKA = {
                               add_state_core = 217
                               transfer_state = 239
                               transfer_state = 401
                               transfer_state = 407
                               transfer_state = 217
                               transfer_state = 265
                               transfer_state = 245
                               transfer_state = 236
                               transfer_state = 237
                            }
			    set_autonomy = { target = RKA autonomy_state = autonomy_reichskommissariat }
                        }
		}
	}

	GER_reichskommissariat_kaukasien = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			controls_state = 218
			controls_state = 238
			controls_state = 234
			controls_state = 235
			controls_state = 232
			controls_state = 233
			controls_state = 231
			controls_state = 230
			controls_state = 229
		}

		cost = 0

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			hidden_effect = {
                            RKK = {
                               add_state_core = 234
                               transfer_state = 238
                               transfer_state = 234
                               transfer_state = 235
                               transfer_state = 232
                               transfer_state = 233
                               transfer_state = 231
                               transfer_state = 230
                               transfer_state = 229
                               transfer_state = 218
                            }
			    set_autonomy = { target = RKK autonomy_state = autonomy_reichskommissariat }
                        }
		}
	}

	GER_reichskommissariat_moskowien = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			controls_state = 204
			controls_state = 206
			controls_state = 207
			controls_state = 241
			controls_state = 224
			controls_state = 242
			controls_state = 243
			controls_state = 210
			controls_state = 209
			controls_state = 247
			controls_state = 246
			controls_state = 263
			controls_state = 208
			controls_state = 195
			controls_state = 244
			controls_state = 264
			controls_state = 247
			controls_state = 219
			controls_state = 205
			controls_state = 222
			controls_state = 223
		}

		cost = 0

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			hidden_effect = {
                            RKM = {
                               add_state_core = 219
                               transfer_state = 204
                               transfer_state = 206
                               transfer_state = 207
                               transfer_state = 241
                               transfer_state = 224
                               transfer_state = 242
                               transfer_state = 246
                               transfer_state = 243
                               transfer_state = 210
                               transfer_state = 209
                               transfer_state = 247
                               transfer_state = 263
                               transfer_state = 208
                               transfer_state = 244
                               transfer_state = 264
                               transfer_state = 247
                               transfer_state = 219
                               transfer_state = 205
                               transfer_state = 222
                               transfer_state = 223
                            }
                            GER = {
                               transfer_state = 195
                            }
			    set_autonomy = { target = RKM autonomy_state = autonomy_reichskommissariat }
                        }
		}
	}

	GER_reichskommissariat_ukraine = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			controls_state = 94
			controls_state = 93
			controls_state = 199
			controls_state = 201
			controls_state = 194
			controls_state = 202
			controls_state = 203
			controls_state = 197
			controls_state = 226
			controls_state = 196
			controls_state = 200
			controls_state = 193
			controls_state = 259
		}

		cost = 0

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			hidden_effect = {
                            RKU = {
                               add_state_core = 94
                               transfer_state = 94
                               transfer_state = 199
                               transfer_state = 93
                               transfer_state = 201
                               transfer_state = 194
                               transfer_state = 202
                               transfer_state = 203
                               transfer_state = 197
                               transfer_state = 226
                               transfer_state = 196
                               transfer_state = 200
                               transfer_state = 193
                               transfer_state = 259
                               add_state_claim = 220
                               add_state_claim = 225
                               add_state_claim = 240
                               add_state_claim = 260
                               add_state_claim = 221
                               add_state_claim = 228
                               add_state_claim = 227
                            }
                           ROM = {
                               transfer_state = 198
                               transfer_state = 192
                               transfer_state = 858
                           }
			    set_autonomy = { target = RKU autonomy_state = autonomy_reichskommissariat }
                        }
		}
	}
}

political_actions = {

	# Reinstate Wilhelm IV into the line of succession
	reinstate_wilhelm_iv_succession_rights = {

		allowed = {
			original_tag = GER
		}

		available = {
			
		}

		cost = 100

		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}

		visible = {
			has_war = no
			has_government = neutrality
			has_country_flag = backed_down_netherlands_kaiser
		}

		complete_effect = {
			add_stability = -0.10
			add_popularity = { ideology = neutrality popularity = -0.05 }
			custom_effect_tooltip = reinstate_wilhelm_iv_succession_rights_tt
			hidden_effect = {
				set_country_flag = reinstated_wilhelm_iv_succession_rights
			}
		}
	}
	
	# Agnatic-Cognatic Primogeniture
	modernize_the_succession_laws = {

		allowed = {
			original_tag = GER
		}

		available = {
			
		}

		cost = 150

		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}

		visible = {
			has_war = no
			has_government = neutrality
			has_country_flag = reinstated_wilhelm_iv_succession_rights
		}

		complete_effect = {
			add_stability = 0.05
			custom_effect_tooltip = modernize_the_succession_laws_tt
			hidden_effect = {
				set_country_flag = modernized_succession_laws
			}
		}
	}

	recall_von_lettow_vorbeck = {

		allowed = {
			original_tag = GER
		}
		available = {
			has_civil_war = no
		}
		visible = {
			OR = {
				has_country_leader = { ruling_only = yes name = "Wilhelm II" }
				has_country_leader = { ruling_only = yes name = "Wilhelm III" }
				has_country_leader = { ruling_only = yes name = "Victoria" }
			}
		}
		cost = 25
		fire_only_once = yes
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			create_corps_commander = {
				name = "Paul von Lettow-Vorbeck"
				gfx = GFX_portrait_ger_von_lettow_vorbeck
				traits = { trickster war_hero media_personality jungle_rat}
				skill = 4
				id = 4
				attack_skill = 3
				defense_skill = 3
				planning_skill = 2
				logistics_skill = 5
			}
		}
	}

	# Safety regulations
	GER_sharpen_air_safety_regulations = {

		allowed = {
			original_tag = GER
			has_dlc = "Waking the Tiger"
		}

		available = {
			
		}

		cost = 50

		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}

		visible = {
			has_government = neutrality
		}

		complete_effect = {
			add_timed_idea = { idea = GER_air_safety_regulations days = 1095 }
			set_global_flag = GER_air_safety_regulations_flag
		}
	}
}

foreign_politics = {
	
	# Titles Deprivation Act 1917
	request_restoration_of_british_titles = {

		allowed = {
			original_tag = GER
		}

		available = {
			ENG = { has_opinion = { target = GER value > 99 } }
			custom_trigger_tooltip = {
				tooltip = hindenburg_destroyed_tt
				NOT = { has_global_flag = hindenburg_destroyed }
			}
		}

		cost = 150

		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}

		visible = {
			has_war = no
			has_government = neutrality
			has_completed_focus = GER_ally_the_shade
			has_country_flag = modernized_succession_laws
		}

		complete_effect = {
			ENG = { country_event = { id = wtt_germany.999 days = 1 } }
			custom_effect_tooltip = request_restoration_of_british_titles_tt
			hidden_effect = { set_global_flag = hindenburg_event_in_progress }
		}
	}

	GER_request_polish_war_participation = {

		icon = generic_prepare_civil_war

		allowed = {
			original_tag = GER
		}

		available = {
			has_war_with = SOV
			NOT = { is_in_faction_with = POL }
		}

		cost = 50

		fire_only_once = yes

		ai_will_do = {
			factor = 200
		}

		visible = {
			has_country_flag = poland_traded_danzig
			has_completed_focus = GER_tackle_the_communist_threat
		}

		complete_effect = {
			POL = { country_event = { id = wtt_germany.65 hours = 6 } }
		}

	}
}

#Category only allowed for GER
GER_military_buildup = {

	GER_plan_z = {

		icon = generic_naval

		available = {
			has_navy_size = {
				unit = battleship
				size > 9
			}
			has_navy_size = {
				unit = battle_cruiser
				size > 2
			}
			has_navy_size = {
				unit = carrier
				size > 3
			}
			has_navy_size = {
				unit = heavy_cruiser
				size > 19
			}
			has_navy_size = {
				unit = light_cruiser
				size > 19
			}
			has_navy_size = {
				unit = destroyer
				size > 99
			}
		}

		fire_only_once = yes
		days_mission_timeout = 1800
		is_good = no
		activation = {
			has_completed_focus = GER_plan_z
		}

		
		visible = {
			has_completed_focus = GER_plan_z
		}

		complete_effect = {
			add_war_support = 0.05
			navy_experience = 150
		}

		
	}

	GER_jaegernotprogramm = {

		icon = generic_air

		available = {
			has_war = yes
			AND = {
				has_deployed_air_force_size = {
					type = fighter
					size < 750
				}
				has_equipment = {
					fighter_equipment < 250
				}
			}
			NOT = {
				has_idea = GER_jaegernotprogramm
			}
		}

		cost = 50
		fire_only_once = yes
		ai_will_do = {
			factor = 1
		}

		visible = {
			has_war = yes
			AND = {
				has_deployed_air_force_size = {
					type = fighter
					size < 750
				}
				has_equipment = {
					fighter_equipment < 250
				}
			}
			NOT = {
				has_idea = GER_jaegernotprogramm
			}
		}

		complete_effect = {
			add_stability = -0.05
			add_war_support = -0.05
			add_timed_idea = { idea = GER_jaegernotprogramm days = 90 }
		}
	}
}

special_projects = {
	GER_dismantle_maginot = {

		icon = generic_construction

		available = {
			#has_war = yes
			controls_state = 28
			if = {
				limit = {
					FRA = { has_completed_focus = FRA_extend_the_maginot_line }
				}
				controls_state = 18
				controls_state = 29
			}
		}

		cost = 50
		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}
		visible = {
			#has_war = yes
			controls_state = 28
			if = {
				limit = {
					FRA = { has_completed_focus = FRA_extend_the_maginot_line }
				}
				controls_state = 18
				controls_state = 29
			}
		}
		days_remove = 180
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			28 = {
				set_building_level = {
					type = bunker
					level = 2
					province = {
						all_provinces = yes
						limit_to_border = no
						level > 2
					}
				}
			}
			if = {
				limit = {
					FRA = { has_completed_focus = FRA_extend_the_maginot_line }
				}
				18 = {
					set_building_level = {
						type = bunker
						level = 2
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 2
						}
					}
				}
				29 = {
					set_building_level = {
						type = bunker
						level = 2
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 2
						}
					}
				}
			}
		}
		complete_effect = {
			if = {
				limit = { FRA = { has_completed_focus = FRA_extend_the_maginot_line } }
				add_timed_idea = { idea = GER_dismantle_maginot days = 270 }
				else = {
					add_timed_idea = { idea = GER_dismantle_maginot days = 180 }
				}
			}
		}
	}	
	GER_dismantle_czechoslovakian_forts = {

		icon = generic_construction

		available = {
			#has_war = yes
			controls_state = 69 # Sudetenland
			controls_state = 74 # Eastern Sudetenland
			controls_state = 9 # Bohemia
			controls_state = 75 # Moravia
		}

		cost = 50
		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}
		visible = {
			#has_war = yes
			controls_state = 69 # Sudetenland
			controls_state = 74 # Eastern Sudetenland
			controls_state = 9 # Bohemia
			controls_state = 75 # Moravia
		}
		days_remove = 180
		modifier = {
			civilian_factory_use = 3
		}
		remove_effect = {
			69 = {
				set_building_level = {
					type = bunker
					level = 1
					province = {
						all_provinces = yes
						limit_to_border = no
						level > 1
					}
				}
			}
			74 = {
				set_building_level = {
					type = bunker
					level = 1
					province = {
						all_provinces = yes
						limit_to_border = no
						level > 1
					}
				}
			}
			9 = {
				set_building_level = {
					type = bunker
					level = 1
					province = {
						all_provinces = yes
						limit_to_border = no
						level > 1
					}
				}
			}
			75 = {
				set_building_level = {
					type = bunker
					level = 1
					province = {
						all_provinces = yes
						limit_to_border = no
						level > 1
					}
				}
			}
			if = {
				limit = {
					72 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
					71 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
				}
				72 = {
					set_building_level = {
						type = bunker
						level = 1
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 1
						}
					}
				}
				71 = {
					set_building_level = {
						type = bunker
						level = 1
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 1
						}
					}
				}
			}
			if = {
				limit = {
					70 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
				}
				70 = {
					set_building_level = {
						type = bunker
						level = 1
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 1
						}
					}
				}
			}
			if = {
				limit = {
					73 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
					664 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
				}
				73 = {
					set_building_level = {
						type = bunker
						level = 1
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 1
						}
					}
				}
				664 = {
					set_building_level = {
						type = bunker
						level = 1
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 1
						}
					}
				}
			}
		}
		complete_effect = {
			add_timed_idea = { idea = GER_dismantle_czechoslovakian_forts days = 180 }
		}
	}	
}

GER_aid_hun_rom_democratic_civil_war = {

	GER_aid_hun_democratic_civil_war = {

		icon = generic_prepare_civil_war

		available = {
			HUN = {
				NOT = { has_government = democratic }
				NOT = { has_war_with = GER }
				has_civil_war = yes
				exists = yes
				any_enemy_country = {
					original_tag = HUN
					has_government = democratic
				}
			}
		}

		cost = 0

		ai_will_do = {
			factor = 200
		}

		#Available if democratic civil war
		visible = {
			has_completed_focus = GER_align_hungary
			GER = { has_government = democratic }
		}

		complete_effect = {
			if = {
				limit = {
					HUN = { is_in_faction_with = GER }
				}
				remove_from_faction = HUN
				random_country = {
					limit = {
						original_tag = HUN
						has_government = democratic
						has_war_with = HUN
					}
					GER = { add_to_faction = PREV }
				}
			}
			random_country = {
				limit = {
					original_tag = HUN
					has_government = democratic
					has_war_with = HUN
				}
				GER = { add_to_war = { targeted_alliance = PREV enemy = HUN hostility_reason = asked_to_join } }
			}
		}
	}

	GER_aid_rom_democratic_civil_war = {

		icon = generic_prepare_civil_war

		available = {
			ROM = {
				NOT = { has_government = democratic }
				NOT = { has_war_with = GER }
				has_civil_war = yes
				exists = yes
				any_enemy_country = {
					original_tag = ROM
					has_government = democratic
				}
			}
		}

		cost = 0

		ai_will_do = {
			factor = 200
		}

		#Available if democratic civil war
		visible = {
			has_completed_focus = GER_align_romania
			GER = { has_government = democratic }
		}

		complete_effect = {
			if = {
				limit = {
					ROM = { is_in_faction_with = GER }
				}
				remove_from_faction = ROM
				random_country = {
					limit = {
						original_tag = ROM
						has_government = democratic
						has_war_with = ROM
					}
					GER = { add_to_faction = PREV }
				}
			}
			random_country = {
				limit = {
					original_tag = ROM
					has_government = democratic
					has_war_with = ROM
				}
				GER = { add_to_war = { targeted_alliance = PREV enemy = ROM hostility_reason = asked_to_join } }
			}
		}
	}

}

GER_austro_hungarian_empire = {

	GER_reform_austro_hungarian_empire = {

		allowed = {
			OR = {
				original_tag = AUS
				original_tag = HUN
				original_tag = CZE
			}
		}

		available = {
			AUS = {
				OR = {
					has_government = neutrality
					neutrality > 0.4
				}
			}
			HUN = {
				OR = {
					has_government = neutrality
					neutrality > 0.4
				}
			}
			CZE = {
				OR = {
					has_government = neutrality
					neutrality > 0.4
				}
			}
		}

		visible = {
			GER = { 
				has_completed_focus = GER_rekindle_imperial_sentiment 
				has_government = neutrality
			}
			AUS = {
				exists = yes
			}
			HUN = {
				exists = yes
			}
			CZE = {
				exists = yes
			}
			NOT = { has_global_flag = GER_reformed_austro_hungarian_empire }
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				tag = HUN
			}
			modifier = {
				factor = 0
				tag = CZE
			}
		}

		complete_effect = {
			custom_effect_tooltip = GER_reform_austro_hungarian_empire_tt
			hidden_effect = { set_global_flag = GER_reformed_austro_hungarian_empire }
			if = {
				limit = {
					tag = AUS
				}
				HUN = { country_event = { id = wtt_germany.68 hours = 1 } }
				CZE = { country_event = { id = wtt_germany.68 hours = 3 } }
			}
			if = {
				limit = {
					tag = HUN
				}
				AUS = { country_event = { id = wtt_germany.68 hours = 1 } }
				CZE = { country_event = { id = wtt_germany.68 hours = 3 } }
			}
			if = {
				limit = {
					tag = CZE
				}
				HUN = { country_event = { id = wtt_germany.68 hours = 1 } }
				AUS = { country_event = { id = wtt_germany.68 hours = 3 } }
			}
		}
	}
}